Tasks:
 - ShellCommandTask:
     command: |
      echo "===== STEP 2: Setting up Go cross-compilation environment... ====="
      export GOPROXY=https://goproxy.cn,direct
      export GOOS=android
      export GOARCH=arm64
      export CGO_ENABLED=1
      export ANDROID_NDK_HOME=/opt/ndk/android-ndk-r28b
      export CC=$ANDROID_NDK_HOME/toolchains/llvm/prebuilt/linux-x86_64/bin/aarch64-linux-android28-clang
      export CXX=$ANDROID_NDK_HOME/toolchains/llvm/prebuilt/linux-x86_64/bin/aarch64-linux-android28-clang++
      
      echo "===== STEP 3: Setting CGo linker and compiler flags... ====="
      export CGO_LDFLAGS="-L/root/zty_workspace/mllm_zty/build-android-arm64-v8a/bin"
      export CGO_CFLAGS="-I/root/zty_workspace/mllm_zty"
      
      echo "===== STEP 4: Compiling Go MLLM WebSocket Client... ====="
      cd mllm-cli && \
      echo "Running 'go mod tidy' to ensure all dependencies are present..." && \
      go mod tidy && \
      echo "Starting client build..." && \
      go build -o ../build-android-arm64-v8a/bin/mllm_ws_client -tags=mobile ./cmd/mllm-client/main.go